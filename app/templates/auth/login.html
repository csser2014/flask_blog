{% extends "auth/base.html" %}
{% block title %}登录{% endblock %}
{% block content %}

	<div class="wrap">
		<div class="header">
			<div class="m-1200">
			</div>
		</div>
		<div class="main">
			<div class="content">
				<div class="m-1200">
					<div class="loginItem">
						<form method="post" action="/auth/login">
							{{ form.hidden_tag() }}
							<h2>登录</h2>
							<p>{{ form.username(placeholder="用户名", class="form-text", id="loginName", required="true", serialize="true", autocomplete="off") }}</p>
							<p>{{ form.password(placeholder="密码", class="form-text", id="loginPwd", required="true", serialize="true", autocomplete="off") }}</p>
							<p>{{ form.recaptcha(placeholder="验证码", class="form-text", id="loginCode", required="true", serialize="true", autocomplete="off") }}<img src="{{ url_for('auth.generate_code') }}" alt="" class="imgCode" /></p>
							<p>
								<label class="form-label-rc">
									{{ form.remember_me(class="form-checkbox") }}
									<span>记住密码</span>
								</label>
								<a href="#" class="forget_pwd">忘记密码？</a>
							</p>
							<p>{{ form.submit(class="loginBtn", id="loginBtn", value="登录") }}</p>
							<p>
								{% if get_flashed_messages() %}
									{% for message in get_flashed_messages() %}
									<span class="show-error-tip">
									{{ message }}
									</span>
									{% endfor %}
								{% else %}
									{% for field in form %}
										{% if field.errors[0] %}
											<span class="show-error-tip">
											{{ field.errors[0]}}
											</span>
										{% endif %}
									{% endfor %}
								{% endif %}
							</p>
						</form>
					</div>
				</div>
			</div>
		</div>
		<div class="footer">
			<a href="{{ url_for('main.index') }}">首页</a>|
			<a href="{{ url_for('main.about') }}">关于</a>|
			<a href="{{ url_for('main.contact') }}">与我联系</a>|
			Generated by <a href="http://www.vim.org" target="_blank">Vim</a> &amp; <a href="http://flask.pocoo.org/" target="_blank">Flask</a>
		</div>
	</div>
{% endblock %}
